"Asignaciones_Equipos_Detalle As screen.'autoLayout_HeaderFooter_ver1.0'":
    Fill: =Color.White
    LoadingSpinnerColor: =App.Theme.Colors.Primary

    ScreenContainer4 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        HeaderContainer4 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =75
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            ZIndex: =2

            Icon9 As icon.ArrowLeft:
                BorderColor: =App.Theme.Colors.Darker40
                Color: =App.Theme.Colors.Darker30
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(244, 244, 244, 1)
                Height: =40
                Icon: =Icon.ArrowLeft
                OnSelect: |
                    =Set(varisFrimaVisible, true);
                    Navigate(Asignaciones_Equipos);
                    ResetForm(Form2);
                    Reset(PenInput1);
                    //Set(varisFrimaVisible, false);
                Width: =40
                ZIndex: =1

            Container8 As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                FillPortions: =0
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutGap: =3
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =4

                ButtonAsignar As Button:
                    BasePaletteColor: =RGBA(8, 222, 8, 1)
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =/*If(Form2.Mode = FormMode.New,
                            Patch(
                                Asignaciones_1,
                                Defaults(Asignaciones_1),
                                {
                                    Id_Disp: DataCardValueIDDisp.Selected,
                                    Fecha_Asignacion: DataCardValueFechaAsig.SelectedDate,
                                    Firma: ImageFirma.Image,
                                    ResponsableP: {
                                        '@odata.type': "#Microsoft.Azure.Connectors.SharePoint.SPListExpandedUser", 
                                        Claims: "i:0#.f|membership|" & Lower(ComboBoxResp.Selected.Email), 
                                        Department:ComboBoxResp.Selected.Department, 
                                        DisplayName:ComboBoxResp.Selected.DisplayName,
                                        Email: ComboBoxResp.Selected.Email, 
                                        JobTitle:ComboBoxResp.Selected.JobTitle, 
                                        Picture:ComboBoxResp.Selected.Picture
                                    }
                                    ,
                                    ResponsableT: ComboBoxResp.Selected.DisplayName, 
                                    Activa: true
                                }
                            );
                            //If(SubmitForm(Form2),
                            Patch(Dispositivos,LookUp(Dispositivos,ID=VarIDDisp),
                                {
                                    Asignado:true
                                }
                            );
                            ClearCollect(
                                FiltroDispositivos,
                                Filter(
                                    [@Dispositivos],
                                    Or(Estatus.Value = "Activo", Estatus.Value = "Inactivo", Estatus.Value = "En revision")
                                )
                            );
                            Set(CantidadActivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Activo")));
                            Set(CantidadInactivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Inactivo")));
                            Set(CantidadEnRevision, CountRows(Filter(FiltroDispositivos, Estatus.Value = "En revision")));
                            Notify("Asignado con éxito",NotificationType.Success);
                            Reset(PenInput1);
                            Navigate(Asignaciones_Equipos);
                            
                            //NewForm(Form2)
                           ,
                            If(EditForm(Form2),  
                        
                                Patch(
                                    Asignaciones_1,
                                    Defaults(Asignaciones_1),
                                    {
                                        Id_Disp: DataCardValueIDDisp.Selected,
                                        Fecha_Asignacion: DataCardValueFechaAsig.SelectedDate,
                                        Firma: ImageFirma.Image,
                                        ResponsableP: {
                                            '@odata.type': "#Microsoft.Azure.Connectors.SharePoint.SPListExpandedUser", 
                                            Claims: "i:0#.f|membership|" & Lower(ComboBoxResp.Selected.Email), 
                                            Department:ComboBoxResp.Selected.Department, 
                                            DisplayName:ComboBoxResp.Selected.DisplayName,
                                            Email: ComboBoxResp.Selected.Email, 
                                            JobTitle:ComboBoxResp.Selected.JobTitle, 
                                            Picture:ComboBoxResp.Selected.Picture
                                        }
                                        ,
                                        ResponsableT: ComboBoxResp.Selected.DisplayName
                                    }
                                ); 
                                Patch(Dispositivos,LookUp(Dispositivos,ID=VarIDDisp),
                                    {
                                        Asignado:true
                                    }
                                );
                                ClearCollect(
                                    FiltroDispositivos,
                                    Filter(
                                        [@Dispositivos],
                                        Or(Estatus.Value = "Activo", Estatus.Value = "Inactivo", Estatus.Value = "En revision")
                                    )
                                );
                                Notify("Actualizado con éxito", NotificationType.Success);
                                Navigate(Asignaciones_Equipos);
                                Set(CantidadActivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Activo")));
                                Set(CantidadInactivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Inactivo")));
                                Set(CantidadEnRevision, CountRows(Filter(FiltroDispositivos, Estatus.Value = "En revision")));
                            );
                            NewForm(Form2)
                        )
                        */
                        /*
                        If(Form2.Mode = FormMode.New,
                            If(SubmitForm(Form2),
                                Notify("Enviado con exito",NotificationType.Success);
                                Patch(Dispositivos,LookUp(Dispositivos,ID=VarIDDisp),
                                    {
                                        Asignado:true
                                    }
                                );
                                ClearCollect(
                                    FiltroDispositivos,
                                    Filter(
                                        [@Dispositivos],
                                        Or(Estatus.Value = "Activo", Estatus.Value = "Inactivo", Estatus.Value = "En revision")
                                    )
                                );
                                Set(CantidadActivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Activo")));
                                Set(CantidadInactivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Inactivo")));
                                Set(CantidadEnRevision, CountRows(Filter(FiltroDispositivos, Estatus.Value = "En revision")));
                                Notify("Asignado con éxito",NotificationType.Success);
                                Reset(PenInput1);
                                Navigate(Asignaciones_Equipos);
                            ),
                            If(SubmitForm(Form2),
                                Notify("Enviado con exito",NotificationType.Success);
                                Reset(PenInput1);
                            )
                        )
                        */
                        
                         If(SubmitForm(Form2),
                                Notify("Enviado con exito",NotificationType.Success);
                                Patch(Dispositivos,LookUp(Dispositivos,ID=VarIDDisp),
                                    {
                                        Asignado:true
                                    }
                                );
                                ClearCollect(
                                    FiltroDispositivos,
                                    Filter(
                                        [@Dispositivos],
                                        Or(Estatus.Value = "Activo"/*, Estatus.Value = "Inactivo", Estatus.Value = "En revision"*/)
                                    )
                                );
                                Set(CantidadActivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Activo")));
                                Set(CantidadInactivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Inactivo")));
                                Set(CantidadEnRevision, CountRows(Filter(FiltroDispositivos, Estatus.Value = "En revision")));
                                Notify("Asignado con éxito",NotificationType.Success);
                                Reset(PenInput1);
                                Navigate(Asignaciones_Equipos);
                                Set(varisFrimaVisible, true);
                            )
                    Text: |
                        =If(Form2.Mode = FormMode.New,
                            "Asignar",
                            "Reasignar"
                        )
                    Visible: =true
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =1

                ButtonDesasignar As Button:
                    BasePaletteColor: =
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =//PENDIENTE SOLO ELIMINAR POR ID Y ACTUALIZAR SWITCH DISPOSITIVOS EN FALSE PARA ASIGNARLOS
                        //RemoveIf(Asignaciones_1,ID=ID);
                                Remove(Asignaciones_1, LookUp(Asignaciones_1,ID = Value(DataCardValue16.Value)));
                                Reset(PenInput1);
                                Patch(Dispositivos,LookUp(Dispositivos,ID=VarIDDisp),
                                    {
                                        Asignado:false
                                    }
                                );
                        /*
                                Patch(Asignaciones_1,
                                    LookUp(Asignaciones_1, And(Id_Disp.Id = VarDispositivo.Id_Disp.Id, Activa = true)), 
                                    {
                                        Activa: false
                                    }
                                );
                        */
                                Notify("Eliminado con éxito", NotificationType.Success);
                                Navigate(Asignaciones_Equipos);
                        
                                ClearCollect(
                                    FiltroDispositivos,
                                    Filter(
                                        [@Dispositivos],
                                        Or(Estatus.Value = "Activo"/*, Estatus.Value = "Inactivo", Estatus.Value = "En revision"*/)
                                    )
                                );
                                Set(CantidadActivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Activo")));
                                Set(CantidadInactivo, CountRows(Filter(FiltroDispositivos, Estatus.Value = "Inactivo")));
                                Set(CantidadEnRevision, CountRows(Filter(FiltroDispositivos, Estatus.Value = "En revision")));
                                Set(varisFrimaVisible, true);
                            
                            NewForm(Form2)
                    Text: ="Desasignar"
                    Visible: |-
                        =//Comprueba que alguien tenga asignado este dispositivo
                        If( Form2.Mode = FormMode.Edit,
                            true,
                            false
                        )
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =2

                ButtonDetalles As Button:
                    BasePaletteColor: =RGBA(189, 178, 176, 1)
                    DisplayMode: =DisplayMode.Edit
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =Navigate(Inventario_Equipos_Detalles);
                        Set(varScreenAsigna,true)
                    Text: ="Detalles"
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =3

        MainContainer4 As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            ZIndex: =3

            Form2 As form.PowerApps_CoreControls_Form:
                BorderColor: =App.Theme.Colors.Darker40
                DataSource: =Asignaciones_1
                DefaultMode: |
                    =//FormMode.Edit
                    /*If(IsBlank(LookUp(FiltroAsignaciones,Id_Disp.Id=VarIDDisp)),
                        FormMode.New,
                        FormMode.Edit
                    )*/
                    
                    
                    If(!IsBlank(LookUp(FiltroAsignaciones, And(Id_Disp.Id= VarIDDisp, Activa = true))) ,
                        FormMode.Edit,
                        If(IsBlank(LookUp(FiltroAsignaciones, Id_Disp.Id= VarIDDisp)),
                            FormMode.New 
                        )
                    )
                Item: |-
                    =//LookUp(Asignaciones_1,ID=2)
                    VarDispositivo
                    //LookUp(Asignaciones_1,ID=VarIDDisp)
                LayoutMinHeight: =250
                LayoutMinWidth: =400
                NumberOfColumns: =2
                UseFluentV9Cards: =true
                ZIndex: =1

                Id_Disp_DataCard1 As typedDataCard.fluentV9ComboBoxEditCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="Id_Disp"
                    Default: =ThisItem.Id_Disp
                    DisplayMode: |-
                        =//Parent.DisplayMode
                        DisplayMode.View
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,Id_Disp)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =70
                    Required: =false
                    Update: =DataCardValueIDDisp.Selected
                    Width: |-
                        =//667
                        
                        /*
                        If(Inventario_Equipos_Detalles.Size = ScreenSize.ExtraLarge, Form1.Width/2, Inventario_Equipos_Detalles.Size = ScreenSize.Large,Form1.Width/2, Inventario_Equipos_Detalles.Size = ScreenSize.Medium, Form1.Width , Form1.Width-20)
                        */
                        If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =0
                    Y: =0
                    ZIndex: =1

                    DataCardKey13 As Text:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =22
                        Text: =Parent.DisplayName
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =Parent.Width - 48
                        Wrap: =false
                        X: =24
                        Y: =10
                        ZIndex: =1

                    DataCardValueIDDisp As Combobox.pcfdataset:
                        AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                        BorderStyle: =""
                        DefaultSelectedItems: |-
                            =//[Parent.Default]
                            [LookUp(Choices([@Asignaciones_1].Id_Disp),Id = VarIDDisp)]
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        Items: =Choices([@Asignaciones_1].Id_Disp)
                        ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                        Width: =Parent.Width - 48
                        X: =24
                        Y: =DataCardKey13.Y + DataCardKey13.Height + 4
                        ZIndex: =2

                    ErrorMessage13 As Text:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =30
                        Text: =Parent.Error
                        Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                        Width: =Parent.Width - 48
                        Wrap: =true
                        X: =24
                        Y: =DataCardValueIDDisp.Y + DataCardValueIDDisp.Height
                        ZIndex: =3

                    StarVisible13 As Text:
                        Align: ='TextCanvas.Align'.Center
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =20
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        X: =0
                        Y: =DataCardKey13.Y
                        ZIndex: =4

                Fecha_Asignacion_DataCard1 As typedDataCard.fluentV9DateEditCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="Fecha_Asignacion"
                    Default: =ThisItem.Fecha_Asignacion
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,Fecha_Asignacion)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =70
                    Required: =true
                    Update: =DataCardValueFechaAsig.SelectedDate
                    Width: =If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =1
                    Y: =0
                    ZIndex: =1

                    DataCardKey17 As Text:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =22
                        Text: =Parent.DisplayName
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =Parent.Width - 48
                        Wrap: =false
                        X: =24
                        Y: =10
                        ZIndex: =1

                    "DataCardValueFechaAsig As 'Date picker'":
                        AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                        BorderStyle: =""
                        DisplayMode: =Parent.DisplayMode
                        EndDate: =Date(Year(Today())+100, 12, 31)
                        Height: =32
                        SelectedDate: =Parent.Default
                        StartDate: =Date(1900, 1, 1)
                        ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                        Width: =Parent.Width - 48
                        X: =24
                        Y: =DataCardKey17.Y + DataCardKey17.Height + 4
                        ZIndex: =2

                    ErrorMessage17 As Text:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =30
                        Text: =Parent.Error
                        Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                        Width: =Parent.Width - 48
                        Wrap: =true
                        X: =24
                        Y: =DataCardValueFechaAsig.Y + DataCardValueFechaAsig.Height
                        ZIndex: =3

                    StarVisible17 As Text:
                        Align: ='TextCanvas.Align'.Center
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =30
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        X: =0
                        Y: =DataCardKey17.Y
                        ZIndex: =4

                ResponsableT_DataCard1 As typedDataCard.fluentV9TextualEditCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="ResponsableT"
                    Default: =ThisItem.ResponsableT
                    DisplayMode: =Parent.DisplayMode.View
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,ResponsableT)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =70
                    MaxLength: =DataSourceInfo([@Asignaciones_1], DataSourceInfo.MaxLength, ResponsableT)
                    Required: =false
                    Update: =DataCardValue17.Value
                    Visible: =Form2.Mode = FormMode.Edit
                    Width: |-
                        =//667
                        If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =0
                    Y: =1
                    ZIndex: =1

                    DataCardKey22 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =22
                        Text: =Parent.DisplayName
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =Parent.Width - 48
                        Wrap: =false
                        X: =24
                        Y: =10
                        ZIndex: =1

                    "DataCardValue17 As 'Text input'":
                        AccessibleLabel: =Parent.DisplayName
                        DisplayMode: =Parent.DisplayMode
                        Height: =32
                        Mode: ="'TextInputCanvas.Mode'.TextInputModeSingleLine"
                        Required: =Parent.Required
                        ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                        Value: |
                            =If(Form2.Mode = FormMode.Edit,
                                Parent.Default,
                                Concat(ComboBoxResp.SelectedItems,DisplayName)
                            )
                        Width: =Parent.Width - 48
                        X: =24
                        Y: =DataCardKey22.Y + DataCardKey22.Height + 4
                        ZIndex: =2

                    ErrorMessage18 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =30
                        Text: =Parent.Error
                        Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                        Width: =Parent.Width - 48
                        Wrap: =true
                        X: =24
                        Y: =DataCardValue17.Y + DataCardValue17.Height
                        ZIndex: =3

                    StarVisible18 As Text:
                        Align: ='TextCanvas.Align'.Center
                        DisplayMode: =DisplayMode.Edit
                        Height: =30
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        X: =0
                        Y: =DataCardKey22.Y
                        ZIndex: =4

                DataCard1 As typedDataCard.blankCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =200
                    Visible: =Form2.Mode = FormMode.Edit
                    Width: =If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =1
                    Y: =1
                    ZIndex: =1

                    Image4 As image:
                        BorderColor: =App.Theme.Colors.Darker40
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Height: =150
                        Image: =LookUp(Asignaciones_1,ID = Value(DataCardValue16.Value)).Firma
                        Width: =150
                        X: =Parent.Width/2 - Image4.Width/2
                        Y: =40
                        ZIndex: =1

                    TextCanvas7 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        Text: ="Firma"
                        Weight: ='TextCanvas.Weight'.Bold
                        Width: =96
                        X: =0
                        Y: =0
                        ZIndex: =2

                ResponsableP_DataCard1 As typedDataCard.fluentV9ComboBoxEditCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="ResponsableP"
                    Default: =ThisItem.ResponsableP
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,ResponsableP)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =70
                    Required: =false
                    Update: =ComboBoxResp.Selected
                    Width: =If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =0
                    Y: =2
                    ZIndex: =1

                    ComboBoxResp As combobox:
                        BorderColor: =App.Theme.Colors.Darker40
                        ChevronBackground: =App.Theme.Colors.Primary
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronHoverBackground: =App.Theme.Colors.Darker10
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        DefaultSelectedItems: =Parent.Default
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayFields: =["DisplayName"]
                        Font: =App.Theme.Font
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =App.Theme.Colors.Lighter70
                        Items: |-
                            =//Office365Users.SearchUser({searchTerm:ComboBoxResp.SearchText}).DisplayName
                            Choices([@Asignaciones_1].ResponsableP)
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =App.Theme.Colors.Darker30
                        SearchFields: =["DisplayName"]
                        SearchItems: =Choices(Asignaciones_1.ResponsableP,ComboBoxResp.SearchText)
                        SelectionFill: =App.Theme.Colors.Primary
                        SelectMultiple: =false
                        Size: =13
                        Width: =Parent.Width - ComboBoxResp.X *2
                        X: =24
                        Y: =40
                        ZIndex: =5

                    TextCanvas8 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        Text: ="Nuevo responsable"
                        Weight: ='TextCanvas.Weight'.Bold
                        Width: =Parent.Width
                        X: =10
                        Y: =0
                        ZIndex: =6

                    Icon20 As icon.HorizontalLine:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =App.Theme.Colors.Darker30
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Fill: =Color.Black
                        Height: =1
                        Icon: =Icon.HorizontalLine
                        Width: =Parent.Width
                        ZIndex: =7

                ID_DataCard2 As typedDataCard.fluentV9TextualViewCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="ID"
                    Default: =ThisItem.ID
                    DisplayMode: =DisplayMode.View
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,ID)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =70
                    Required: =false
                    Visible: =false
                    Width: =If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =1
                    Y: =2
                    ZIndex: =1

                    DataCardKey18 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =22
                        Text: =Parent.DisplayName
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =Parent.Width - 48
                        Wrap: =false
                        X: =24
                        Y: =10
                        ZIndex: =1

                    "DataCardValue16 As 'Text input'":
                        DisplayMode: =DisplayMode.View
                        Height: =32
                        Mode: ="'TextInputCanvas.Mode'.TextInputModeSingleLine"
                        ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                        Value: =Parent.Default
                        Width: =Parent.Width - 48
                        X: =24
                        Y: =DataCardKey18.Y + DataCardKey18.Height + 4
                        ZIndex: =2

                DataCard3 As typedDataCard.blankCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =200
                    Width: =If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =0
                    Y: =3
                    ZIndex: =1

                    btn_reg_firma As Button:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =45
                        OnSelect: =Set(varisFrimaVisible, true)
                        Text: ="Registrar firma"
                        Width: =130
                        X: =Parent.Width /2 - btn_reg_firma.Width /2
                        Y: =Parent.Height /2 - btn_reg_firma.Height
                        ZIndex: =1

                Firma_DataCard1 As typedDataCard.fluentV9AddLargePictureCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="Firma"
                    Default: =ThisItem.Firma
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,Firma)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =Image8.Image
                    Visible: |-
                        =//Form2.Mode = FormMode.Edit
                        true
                    Width: =If(Asignaciones_Equipos_Detalle.Size = ScreenSize.ExtraLarge, Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Large,Form2.Width/2, Asignaciones_Equipos_Detalle.Size = ScreenSize.Medium, Form2.Width , Form2.Width-20)
                    X: =1
                    Y: =3
                    ZIndex: =1

                    DataCardKey19 As Text:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =34
                        Text: =Parent.DisplayName & " nueva"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    Image8 As image:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayMode: =Parent.DisplayMode
                        Height: =AddPicture1.Height
                        Image: |-
                            =//If(IsBlank(AddPicture1.Media), Parent.Default, AddPicture1.Media)
                            //Parent.Default
                            /*
                            If(Form2.Mode = FormMode.New,
                                ImageFirma.Image,
                                Parent.Default
                            )
                            */
                            ImageFirma.Image
                        Tooltip: =Parent.DisplayName
                        Width: =AddPicture1.Width
                        ZIndex: =2

                    AddPicture1 As addMedia:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =200
                        Visible: =false
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey19.Y + DataCardKey19.Height + 5
                        ZIndex: =3

                    ErrorMessage19 As Text:
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =10
                        Size: =12
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =Image8.Y + Image8.Height
                        ZIndex: =4

                    StarVisible19 As Text:
                        Align: ='TextCanvas.Align'.Center
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =DataCardKey19.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        X: =0
                        Y: =DataCardKey19.Y
                        ZIndex: =5

                Attachments_DataCard2 As typedDataCard.attachmentsEditCard:
                    BorderColor: =App.Theme.Colors.Darker40
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="{Attachments}"
                    Default: =ThisItem.Attachments
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@Asignaciones_1],DataSourceInfo.DisplayName,'{Attachments}')
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DataCardValue18.Attachments
                    Width: =667
                    X: =0
                    Y: =4
                    ZIndex: =1

                    DataCardKey25 As label:
                        AutoHeight: =true
                        Color: =App.Theme.Colors.Darker30
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =34
                        Size: =13
                        Text: |-
                            =//Parent.DisplayName
                            "Fotos de como se entrega el equipo"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue18 As attachments:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        BorderThickness: =2
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayMode: =Parent.DisplayMode
                        FocusedBorderThickness: =4
                        Font: =App.Theme.Font
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =App.Theme.Colors.Lighter70
                        IsInDataCard: =true
                        ItemColor: =RGBA(255, 255, 255, 1)
                        ItemFill: =App.Theme.Colors.Primary
                        ItemHoverColor: =RGBA(0, 0, 0, 1)
                        ItemHoverFill: =App.Theme.Colors.Lighter70
                        Items: =Parent.Default
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =App.Theme.Colors.Darker30
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey25.Y + DataCardKey25.Height + 5
                        ZIndex: =2

                    ErrorMessage21 As label:
                        AutoHeight: =true
                        Color: =RGBA(168, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue18.Y + DataCardValue18.Height
                        ZIndex: =3

                    StarVisible21 As label:
                        Align: =Align.Center
                        Color: =App.Theme.Colors.Darker30
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =DataCardKey25.Height
                        Size: =13
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey25.Y
                        ZIndex: =4

            ImageFirma As image:
                BorderColor: =App.Theme.Colors.Darker40
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Image: |-
                    =If(!IsBlank(PenInput1),
                        PenInput1.Image
                    )
                ZIndex: =2

    Container6 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(255, 255, 255, 1)
        Height: =Asignaciones_Equipos_Detalle.Height-1
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =varisFrimaVisible
        Width: =Asignaciones_Equipos_Detalle.Width-1
        X: =1
        Y: =1
        ZIndex: =2

        Container7 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            FillPortions: =0
            Height: =60
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =30
            PaddingRight: =30
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =1

            Icon10 As icon.ArrowLeft:
                BorderColor: =App.Theme.Colors.Darker40
                Color: =App.Theme.Colors.Darker30
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(244, 244, 244, 1)
                Height: =40
                Icon: =Icon.ArrowLeft
                OnSelect: =Set(varisFrimaVisible,false)
                Width: =40
                ZIndex: =1

            Icon10_1 As icon.ArrowLeft:
                BorderColor: =App.Theme.Colors.Darker40
                Color: =App.Theme.Colors.Darker30
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(244, 244, 244, 1)
                Height: =40
                Icon: =Icon.Check
                OnSelect: =Set(varisFrimaVisible,false)
                Width: =40
                ZIndex: =2

        PenInput1 As inkControl:
            BorderColor: =App.Theme.Colors.Darker40
            FillPortions: =1
            ZIndex: =2

